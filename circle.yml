machine:
  python:
    version: 2.7.9

  node:
    version: 4

dependencies:
  pre:
    - pip install robotframework==3.0
    - pip install robotframework-requests==0.4.4
    - pip install robotframework-selenium2library==1.7.4
    # Clean out node-modules to prevent issues with circle-ci's caching.
    - rm -rf node_modules
test:
  post:
    - npm run build
    - npm start:
        background: true
    #To Run on BrowserStack using local url we must run browserstack local client
    #clients can be found at https://www.browserstack.com/automate/python#setting-local-tunnel
    #- curl -O https://www.browserstack.com/browserstack-local/BrowserStackLocal-linux-x64.zip
    #- unzip ./BrowserStackLocal-linux-x64.zip
    #- rm ./BrowserStackLocal-linux-x64.zip
    #- ./BrowserStackLocal -force -forceLocal <browserstack key>
    #     background: true
    #Now run tests on browser stack
    #- ./e2e/robot/exec/run_all_on_browserstack_desktop_ie.bash
    #RUN ONLY SMOKE TESTS (Tests tagged with Smoke)
    #- ./e2e/robot/exec/run_smoke.bash
    #RUN ALL TESTS except for ones tagged with Disabled
    - ./e2e/robot/exec/run_all_excluding_disabled.bash

general:
  artifacts:
    - "./e2e/robot/results"
